Sep-17 07:56:19.037 [main] DEBUG nextflow.cli.Launcher - $> nextflow run monocle.nf -work-dir 's3://vis.fredhutch.singlecell.pipeline/test/work'
Sep-17 07:56:19.145 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 19.01.0
Sep-17 07:56:19.158 [main] INFO  nextflow.cli.CmdRun - Launching `monocle.nf` [romantic_jennings] - revision: 7bce04ec1c
Sep-17 07:56:19.170 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /Users/zager/Documents/Projects/dv/dv-cambiagrove/nextflow/nextflow.config
Sep-17 07:56:19.170 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/zager/Documents/Projects/dv/dv-cambiagrove/nextflow/nextflow.config
Sep-17 07:56:19.192 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Sep-17 07:56:19.708 [main] DEBUG nextflow.Session - Session uuid: fd310a73-2f9f-415d-affa-cef035164cc1
Sep-17 07:56:19.708 [main] DEBUG nextflow.Session - Run name: romantic_jennings
Sep-17 07:56:19.708 [main] DEBUG nextflow.Session - Executor pool size: 12
Sep-17 07:56:19.725 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 19.01.0 build 5050
  Modified: 22-01-2019 11:19 UTC (03:19 PDT)
  System: Mac OS X 10.14.6
  Runtime: Groovy 2.5.5 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_202-b08
  Encoding: UTF-8 (UTF-8)
  Process: 29546@Michaels-MacBook-Pro-7.local [192.168.1.19]
  CPUs: 12 - Mem: 32 GB (8 GB) - Swap: 18 GB (839.8 MB)
Sep-17 07:56:19.744 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Sep-17 07:56:19.749 [main] DEBUG nextflow.Global - Using AWS credentials defined by environment variables AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
Sep-17 07:56:19.749 [main] DEBUG nextflow.file.FileHelper - AWS S3 config details: {secret_key=4IDAKd.., region=us-west-2, access_key=AKIAYF..}
Sep-17 07:56:20.410 [main] DEBUG nextflow.Session - Work-dir: s3://vis.fredhutch.singlecell.pipeline/test/work [Mac OS X]
Sep-17 07:56:20.411 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/zager/Documents/Projects/dv/dv-cambiagrove/nextflow/bin
Sep-17 07:56:20.498 [main] DEBUG nextflow.Session - Session start invoked
Sep-17 07:56:20.500 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Sep-17 07:56:20.500 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Sep-17 07:56:20.777 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Sep-17 07:56:20.926 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:20.926 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:20.931 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:20.933 [main] INFO  nextflow.executor.Executor - [warm up] executor > local
Sep-17 07:56:20.936 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=12; memory=32 GB; capacity=12; pollInterval=100ms; dumpInterval=5m
Sep-17 07:56:20.941 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: LocalPollingMonitor
Sep-17 07:56:20.941 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Sep-17 07:56:20.943 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: local
Sep-17 07:56:20.971 [main] DEBUG nextflow.Session - >>> barrier register (process: TENX_LOAD_PR)
Sep-17 07:56:20.973 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > TENX_LOAD_PR -- maxForks: 12
Sep-17 07:56:20.996 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:20.997 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:20.997 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:20.997 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_LOAD_PR)
Sep-17 07:56:20.997 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_LOAD_PR -- maxForks: 12
Sep-17 07:56:21.017 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.017 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.017 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.018 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_FILTERCELLS_PR)
Sep-17 07:56:21.021 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:56:21.026 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_FILTERCELLS_PR -- maxForks: 12
Sep-17 07:56:21.031 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.031 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.031 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.031 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_NORMALIZE_PR)
Sep-17 07:56:21.032 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:56:21.033 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_NORMALIZE_PR -- maxForks: 12
Sep-17 07:56:21.048 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.048 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.048 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.048 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_VARIABLEGENES_PR)
Sep-17 07:56:21.049 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3, 4, 5, 6]
Sep-17 07:56:21.050 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_VARIABLEGENES_PR -- maxForks: 12
Sep-17 07:56:21.056 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.056 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.056 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.057 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_SCALEDATA_PR)
Sep-17 07:56:21.058 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3, 4, 5, 6, 7, 8]
Sep-17 07:56:21.058 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_SCALEDATA_PR -- maxForks: 12
Sep-17 07:56:21.191 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.191 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.191 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.192 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_PCA_PR)
Sep-17 07:56:21.192 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:56:21.192 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_PCA_PR -- maxForks: 12
Sep-17 07:56:21.196 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.196 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.197 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.197 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_TSNE_PR)
Sep-17 07:56:21.198 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:56:21.198 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_TSNE_PR -- maxForks: 12
Sep-17 07:56:21.200 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.200 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.200 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.201 [main] DEBUG nextflow.Session - >>> barrier register (process: CDS_LOAD_PR)
Sep-17 07:56:21.201 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > CDS_LOAD_PR -- maxForks: 12
Sep-17 07:56:21.203 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.203 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.203 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.204 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_PREPROCESS_PR)
Sep-17 07:56:21.204 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:56:21.205 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_PREPROCESS_PR -- maxForks: 12
Sep-17 07:56:21.207 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.207 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.207 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.208 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_REDUCEDIM_PR)
Sep-17 07:56:21.208 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:56:21.208 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_REDUCEDIM_PR -- maxForks: 12
Sep-17 07:56:21.211 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.211 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.211 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.212 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_PARTITION_PR)
Sep-17 07:56:21.212 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:56:21.212 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_PARTITION_PR -- maxForks: 12
Sep-17 07:56:21.215 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:56:21.215 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:56:21.215 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:56:21.215 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_LEARNGRAPH_PR)
Sep-17 07:56:21.216 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:56:21.216 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_LEARNGRAPH_PR -- maxForks: 12
Sep-17 07:56:21.217 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Sep-17 07:56:21.217 [main] DEBUG nextflow.Session - Session await
Sep-17 07:56:21.672 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-17 07:56:21.677 [Task submitter] INFO  nextflow.Session - [a7/e37e88] Submitted process > TENX_LOAD_PR (1)
Sep-17 07:56:21.682 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: TENX_LOAD_PR (1); status: COMPLETED; exit: -; error: java.lang.UnsupportedOperationException; workDir: s3://vis.fredhutch.singlecell.pipeline/test/work/a7/e37e887f79b11a5674c556064a07f2]
Sep-17 07:56:21.726 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump output of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-3150248186185023306/.command.out
Sep-17 07:56:21.756 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-8263630568966982516/.command.err
Sep-17 07:56:21.790 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-4626072036774095836/.command.log
Sep-17 07:56:21.791 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'TENX_LOAD_PR (1)'

Caused by:
  java.lang.UnsupportedOperationException

Command executed:

  #!/usr/bin/env Rscript 
  library(Matrix)
  library(Seurat)
  expression_matrix <- readRDS("exp.rds")
  cell_metadata <- readRDS("col.rds")
  gene_annotation <- readRDS("row.rds")
  writeMM(expression_matrix, 'matrix.mtx')
  write.table(row.names(cell_metadata), "barcodes.tsv", quote=FALSE, sep='	', row.names=F, col.names=F)
  write.table(cell_metadata, "cells.tsv", quote=FALSE, sep='	', row.names=T, col.names=T)
  write.table(gene_annotation, "genes.tsv", quote=FALSE, sep='	', row.names=T, col.names=F)

Command exit status:
  -

Command output:
  (empty)

Work dir:
  s3://vis.fredhutch.singlecell.pipeline/test/work/a7/e37e887f79b11a5674c556064a07f2

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Sep-17 07:56:21.794 [Actor Thread 3] DEBUG nextflow.Session - <<< barrier arrive (process: TENX_LOAD_PR)
Sep-17 07:56:21.794 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_LOAD_PR)
Sep-17 07:56:21.795 [Actor Thread 10] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_FILTERCELLS_PR)
Sep-17 07:56:21.795 [Actor Thread 10] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_NORMALIZE_PR)
Sep-17 07:56:21.796 [Actor Thread 10] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_VARIABLEGENES_PR)
Sep-17 07:56:21.796 [Actor Thread 10] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_SCALEDATA_PR)
Sep-17 07:56:21.796 [Actor Thread 10] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_PCA_PR)
Sep-17 07:56:21.797 [Actor Thread 10] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_TSNE_PR)
Sep-17 07:56:21.823 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-17 07:56:21.824 [Task submitter] INFO  nextflow.Session - [1a/39caba] Submitted process > CDS_LOAD_PR (1)
Sep-17 07:56:21.827 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `TENX_LOAD_PR (1)` failed
Sep-17 07:56:21.844 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] MONOCLE3_PREPROCESS_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (value) bound ; channel: __$eachinparam<3>
  port 4: (cntrl) -     ; channel: $

[process] MONOCLE3_REDUCEDIM_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (cntrl) -     ; channel: $

[process] MONOCLE3_PARTITION_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (value) bound ; channel: __$eachinparam<3>
  port 4: (cntrl) -     ; channel: $

[process] MONOCLE3_LEARNGRAPH_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (value) bound ; channel: __$eachinparam<3>
  port 4: (cntrl) -     ; channel: $

Sep-17 07:56:21.872 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-4583318740496144872/.command.err
Sep-17 07:56:21.899 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump output of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-819908542468878554/.command.out
Sep-17 07:56:21.901 [main] DEBUG nextflow.Session - Session await > all process finished
Sep-17 07:56:21.901 [main] DEBUG nextflow.Session - Session await > all barriers passed
Sep-17 07:56:21.901 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local)
Sep-17 07:56:21.958 [main] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-7507088951644662128/.command.err
Sep-17 07:56:21.993 [main] DEBUG nextflow.processor.TaskRun - Unable to dump output of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-5226580746192532520/.command.out
Sep-17 07:56:21.996 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (1)
Sep-17 07:56:22.000 [main] DEBUG nextflow.trace.StatsObserver - Workflow completed > WorkflowStats[succeedCount=0; failedCount=2; ignoredCount=0; cachedCount=0; succeedDuration=0ms; failedDuration=4ms; cachedDuration=0ms]
Sep-17 07:56:22.006 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Sep-17 07:56:22.008 [main] DEBUG nextflow.Session - AWS S3 uploader shutdown
Sep-17 07:56:22.029 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
