Sep-17 07:57:12.970 [main] DEBUG nextflow.cli.Launcher - $> nextflow run monocle.nf -work-dir 's3://vis.fredhutch.singlecell.pipeline/test/work'
Sep-17 07:57:13.086 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 19.01.0
Sep-17 07:57:13.099 [main] INFO  nextflow.cli.CmdRun - Launching `monocle.nf` [fervent_solvay] - revision: 7bce04ec1c
Sep-17 07:57:13.111 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /Users/zager/Documents/Projects/dv/dv-cambiagrove/nextflow/nextflow.config
Sep-17 07:57:13.111 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/zager/Documents/Projects/dv/dv-cambiagrove/nextflow/nextflow.config
Sep-17 07:57:13.133 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Sep-17 07:57:13.679 [main] DEBUG nextflow.Session - Session uuid: d810a230-8464-4cf7-ba44-1a138b15cd6f
Sep-17 07:57:13.679 [main] DEBUG nextflow.Session - Run name: fervent_solvay
Sep-17 07:57:13.680 [main] DEBUG nextflow.Session - Executor pool size: 12
Sep-17 07:57:13.898 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 19.01.0 build 5050
  Modified: 22-01-2019 11:19 UTC (03:19 PDT)
  System: Mac OS X 10.14.6
  Runtime: Groovy 2.5.5 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_202-b08
  Encoding: UTF-8 (UTF-8)
  Process: 29675@Michaels-MacBook-Pro-7.local [192.168.1.19]
  CPUs: 12 - Mem: 32 GB (7.9 GB) - Swap: 18 GB (935.8 MB)
Sep-17 07:57:13.919 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Sep-17 07:57:13.924 [main] DEBUG nextflow.Global - Using AWS credentials defined by environment variables AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
Sep-17 07:57:13.925 [main] DEBUG nextflow.file.FileHelper - AWS S3 config details: {secret_key=4IDAKd.., region=us-west-2, access_key=AKIAYF..}
Sep-17 07:57:14.563 [main] DEBUG nextflow.Session - Work-dir: s3://vis.fredhutch.singlecell.pipeline/test/work [Mac OS X]
Sep-17 07:57:14.564 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/zager/Documents/Projects/dv/dv-cambiagrove/nextflow/bin
Sep-17 07:57:14.645 [main] DEBUG nextflow.Session - Session start invoked
Sep-17 07:57:14.647 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Sep-17 07:57:14.647 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Sep-17 07:57:14.931 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Sep-17 07:57:15.105 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.105 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.111 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.113 [main] INFO  nextflow.executor.Executor - [warm up] executor > local
Sep-17 07:57:15.116 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=12; memory=32 GB; capacity=12; pollInterval=100ms; dumpInterval=5m
Sep-17 07:57:15.120 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: LocalPollingMonitor
Sep-17 07:57:15.121 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Sep-17 07:57:15.123 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: local
Sep-17 07:57:15.150 [main] DEBUG nextflow.Session - >>> barrier register (process: TENX_LOAD_PR)
Sep-17 07:57:15.152 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > TENX_LOAD_PR -- maxForks: 12
Sep-17 07:57:15.178 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.178 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.178 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.178 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_LOAD_PR)
Sep-17 07:57:15.179 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_LOAD_PR -- maxForks: 12
Sep-17 07:57:15.185 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.185 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.186 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.186 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_FILTERCELLS_PR)
Sep-17 07:57:15.190 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:57:15.196 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_FILTERCELLS_PR -- maxForks: 12
Sep-17 07:57:15.200 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.200 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.200 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.201 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_NORMALIZE_PR)
Sep-17 07:57:15.202 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:57:15.202 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_NORMALIZE_PR -- maxForks: 12
Sep-17 07:57:15.208 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.208 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.208 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.330 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_VARIABLEGENES_PR)
Sep-17 07:57:15.331 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3, 4, 5, 6]
Sep-17 07:57:15.332 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_VARIABLEGENES_PR -- maxForks: 12
Sep-17 07:57:15.337 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.337 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.338 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.338 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_SCALEDATA_PR)
Sep-17 07:57:15.339 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3, 4, 5, 6, 7, 8]
Sep-17 07:57:15.340 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_SCALEDATA_PR -- maxForks: 12
Sep-17 07:57:15.343 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.343 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.343 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.344 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_PCA_PR)
Sep-17 07:57:15.344 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:57:15.344 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_PCA_PR -- maxForks: 12
Sep-17 07:57:15.348 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.348 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.348 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.349 [main] DEBUG nextflow.Session - >>> barrier register (process: SEURAT_TSNE_PR)
Sep-17 07:57:15.349 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:57:15.349 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > SEURAT_TSNE_PR -- maxForks: 12
Sep-17 07:57:15.352 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.352 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.352 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.353 [main] DEBUG nextflow.Session - >>> barrier register (process: CDS_LOAD_PR)
Sep-17 07:57:15.353 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > CDS_LOAD_PR -- maxForks: 12
Sep-17 07:57:15.355 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.356 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.356 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.356 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_PREPROCESS_PR)
Sep-17 07:57:15.357 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:57:15.357 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_PREPROCESS_PR -- maxForks: 12
Sep-17 07:57:15.360 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.360 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.360 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.361 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_REDUCEDIM_PR)
Sep-17 07:57:15.361 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2]
Sep-17 07:57:15.361 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_REDUCEDIM_PR -- maxForks: 12
Sep-17 07:57:15.364 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.364 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.365 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.365 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_PARTITION_PR)
Sep-17 07:57:15.365 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:57:15.366 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_PARTITION_PR -- maxForks: 12
Sep-17 07:57:15.368 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Sep-17 07:57:15.368 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Sep-17 07:57:15.369 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Sep-17 07:57:15.369 [main] DEBUG nextflow.Session - >>> barrier register (process: MONOCLE3_LEARNGRAPH_PR)
Sep-17 07:57:15.369 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [1, 2, 3]
Sep-17 07:57:15.369 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > MONOCLE3_LEARNGRAPH_PR -- maxForks: 12
Sep-17 07:57:15.370 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Sep-17 07:57:15.370 [main] DEBUG nextflow.Session - Session await
Sep-17 07:57:15.846 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-17 07:57:15.849 [Task submitter] INFO  nextflow.Session - [87/9ce4ad] Submitted process > TENX_LOAD_PR (1)
Sep-17 07:57:15.854 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: TENX_LOAD_PR (1); status: COMPLETED; exit: -; error: java.lang.UnsupportedOperationException; workDir: s3://vis.fredhutch.singlecell.pipeline/test/work/87/9ce4add0466d1c629833ea01faae9c]
Sep-17 07:57:15.899 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump output of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-7417908838005340625/.command.out
Sep-17 07:57:15.932 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-5401682170608818871/.command.err
Sep-17 07:57:15.965 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-4319863327824286934/.command.log
Sep-17 07:57:15.966 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'TENX_LOAD_PR (1)'

Caused by:
  java.lang.UnsupportedOperationException

Command executed:

  #!/usr/bin/env Rscript 
  library(Matrix)
  library(Seurat)
  expression_matrix <- readRDS("exp.rds")
  cell_metadata <- readRDS("col.rds")
  gene_annotation <- readRDS("row.rds")
  writeMM(expression_matrix, 'matrix.mtx')
  write.table(row.names(cell_metadata), "barcodes.tsv", quote=FALSE, sep='	', row.names=F, col.names=F)
  write.table(cell_metadata, "cells.tsv", quote=FALSE, sep='	', row.names=T, col.names=T)
  write.table(gene_annotation, "genes.tsv", quote=FALSE, sep='	', row.names=T, col.names=F)

Command exit status:
  -

Command output:
  (empty)

Work dir:
  s3://vis.fredhutch.singlecell.pipeline/test/work/87/9ce4add0466d1c629833ea01faae9c

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Sep-17 07:57:15.969 [Actor Thread 3] DEBUG nextflow.Session - <<< barrier arrive (process: TENX_LOAD_PR)
Sep-17 07:57:15.969 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_LOAD_PR)
Sep-17 07:57:15.970 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_FILTERCELLS_PR)
Sep-17 07:57:15.970 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_NORMALIZE_PR)
Sep-17 07:57:15.970 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_VARIABLEGENES_PR)
Sep-17 07:57:15.971 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_SCALEDATA_PR)
Sep-17 07:57:15.971 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_PCA_PR)
Sep-17 07:57:15.972 [Actor Thread 9] DEBUG nextflow.Session - <<< barrier arrive (process: SEURAT_TSNE_PR)
Sep-17 07:57:15.994 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-17 07:57:15.994 [Task submitter] INFO  nextflow.Session - [02/b14f81] Submitted process > CDS_LOAD_PR (1)
Sep-17 07:57:15.997 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `TENX_LOAD_PR (1)` failed
Sep-17 07:57:16.017 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] MONOCLE3_PREPROCESS_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (value) bound ; channel: __$eachinparam<3>
  port 4: (cntrl) -     ; channel: $

[process] MONOCLE3_REDUCEDIM_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (cntrl) -     ; channel: $

[process] MONOCLE3_PARTITION_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (value) bound ; channel: __$eachinparam<3>
  port 4: (cntrl) -     ; channel: $

[process] MONOCLE3_LEARNGRAPH_PR
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: __$eachinparam<1>
  port 2: (value) bound ; channel: __$eachinparam<2>
  port 3: (value) bound ; channel: __$eachinparam<3>
  port 4: (cntrl) -     ; channel: $

Sep-17 07:57:16.046 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-6769920447287709279/.command.err
Sep-17 07:57:16.077 [Task monitor] DEBUG nextflow.processor.TaskRun - Unable to dump output of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-5936566665410095515/.command.out
Sep-17 07:57:16.079 [main] DEBUG nextflow.Session - Session await > all process finished
Sep-17 07:57:16.079 [main] DEBUG nextflow.Session - Session await > all barriers passed
Sep-17 07:57:16.079 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local)
Sep-17 07:57:16.107 [main] DEBUG nextflow.processor.TaskRun - Unable to dump error of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-4161180254898196030/.command.err
Sep-17 07:57:16.136 [main] DEBUG nextflow.processor.TaskRun - Unable to dump output of process 'null' -- Cause: java.nio.file.NoSuchFileException: /var/folders/ll/c83r7z4134bfjfv1tp4dyl0h0000gn/T/temp-s3-3989177953953566640/.command.out
Sep-17 07:57:16.140 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (1)
Sep-17 07:57:16.143 [main] DEBUG nextflow.trace.StatsObserver - Workflow completed > WorkflowStats[succeedCount=0; failedCount=2; ignoredCount=0; cachedCount=0; succeedDuration=0ms; failedDuration=3ms; cachedDuration=0ms]
Sep-17 07:57:16.150 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Sep-17 07:57:16.152 [main] DEBUG nextflow.Session - AWS S3 uploader shutdown
Sep-17 07:57:16.174 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
